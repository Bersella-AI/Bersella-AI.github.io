<!DOCTYPE html>
<html lang="zh-cmn-Hans">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

  
  <title>基于Arduino的辩论赛计时器：中文说明书 | 3rd Homepage</title>

  <meta name="author" content="iDemkors">
  <meta name="description" content="Demkors&#39; 3rd Website">
  <link rel="alternate" href="/atom.xml" title="3rd Homepage" type="application/rss2.xml">

  
  <meta name="description" content="iDemkors的第一个GitHub仓库FIRST REPOSITORY OF iDEMKORS ON GitHubA timer for debate competition based on Arduino

【项目主页】
简要
本项目基于Arduino单片机建立，代号“Beta”。项目使用一片Ocrobot MEGA 2560（兼容Arduino Mega 2560）单片机，以及其他若干硬">
<meta property="og:type" content="article">
<meta property="og:title" content="基于Arduino的辩论赛计时器：中文说明书">
<meta property="og:url" content="http://idemkors.github.io/2016/06/08/DebateTimer/index.html">
<meta property="og:site_name" content="3rd Homepage">
<meta property="og:description" content="iDemkors的第一个GitHub仓库FIRST REPOSITORY OF iDEMKORS ON GitHubA timer for debate competition based on Arduino

【项目主页】
简要
本项目基于Arduino单片机建立，代号“Beta”。项目使用一片Ocrobot MEGA 2560（兼容Arduino Mega 2560）单片机，以及其他若干硬">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/62fb934ajw1f24anqstlxj21kw0w01f6.jpg">
<meta property="og:updated_time" content="2016-06-09T10:08:30.665Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="基于Arduino的辩论赛计时器：中文说明书">
<meta name="twitter:description" content="iDemkors的第一个GitHub仓库FIRST REPOSITORY OF iDEMKORS ON GitHubA timer for debate competition based on Arduino

【项目主页】
简要
本项目基于Arduino单片机建立，代号“Beta”。项目使用一片Ocrobot MEGA 2560（兼容Arduino Mega 2560）单片机，以及其他若干硬">
<meta name="twitter:image" content="http://ww1.sinaimg.cn/large/62fb934ajw1f24anqstlxj21kw0w01f6.jpg">

  
    <link rel="alternative" href="/atom.xml" title="3rd Homepage" type="application/atom+xml">
  

  
    <link rel="shortcut icon" href="/favicon.ico">
  

  <!-- <link href="//cdn.bootcss.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet"> -->
  <link rel="stylesheet" href="/css/app.css">

  
  <style type="text/css">
    body, h1, h2, h3, h4, h5, h6  {
      font-family: STFangSong, simSun, 宋体, serif;
    }
  </style>
  
  
  <style type="text/css">
    code, kbd, samp, pre, tt, var {
      font-family: Monaco, Consolas, monospace;
    }
  </style>
  
</head>
<body class="site-page">
  <nav class="site-navbar">
  <ul nav-left>
    <h1>3rd Homepage</h1>
  </ul>
  <ul nav-right>
  
    
    <li>
      <a href="/" >
        Home
      </a>
    </li>
  
    
    <li>
      <a href="/archives" >
        Archives
      </a>
    </li>
  
    
    <li>
      <a href="/link" >
        Link
      </a>
    </li>
  
    
    <li>
      <a href="http://weibo.com/cjdawei"  target="_blank" >
        Weibo
      </a>
    </li>
  
    
    <li>
      <a href="https://github.com/iDemkors"  target="_blank" >
        GitHub
      </a>
    </li>
  
    
    <li>
      <a href="/about" >
        About
      </a>
    </li>
  
  </ul>
</nav>

  <section site-body part-post>
<section post>


<article id="post-DebateTimer" layout="post">

  
    
      <a href="/categories/Arduino/">Arduino</a></li>
      
    
  

  
    <h1 post-title>
      基于Arduino的辩论赛计时器：中文说明书
    </h1>
  

  <time post-time datetime="2016-06-08T06:39:02.000Z" itemprop="datePublished">
    2016-06-08
  </time>

  
    <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Arduino/">Arduino</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/计时器/">计时器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/辩论赛/">辩论赛</a></li></ul>
  


  <div class="clearfix"></div>

  <div page-excerpt  page-excerpt-empty >
    
  </div>
  <div page-more>
    <blockquote>
<p><strong>iDemkors的第一个GitHub仓库</strong><br>FIRST REPOSITORY OF iDEMKORS ON GitHub<br>A timer for debate competition based on Arduino</p>
</blockquote>
<p>【<a href="https://github.com/iDemkors/DebateTimer-Arduino">项目主页</a>】</p>
<h2 id="简要"><a href="#简要" class="headerlink" title="简要"></a>简要</h2><ul>
<li>本项目基于Arduino单片机建立，代号“Beta”。项目使用一片Ocrobot MEGA 2560（兼容Arduino Mega 2560）单片机，以及其他若干硬件模块构建。</li>
<li>本系统支持11个环节的正赛，支持自定义各环节的（先）发言方与时间，断电后设置仍保持。更多细节请往下看。</li>
<li>最新的.ino源代码版本为Beta 6。</li>
<li>本说明书的英文版本在项目主页可见。</li>
<li><a href="https://github.com/iDemkors/DebateTimer-Arduino">The English version</a> of this document is available in the homepage of the project.</li>
<li>如在本说明书或源程序中发现错误，请及时与我联系。</li>
</ul>
<hr>
<h2 id="系统要求"><a href="#系统要求" class="headerlink" title="系统要求"></a>系统要求</h2><ul>
<li>基本配件<ul>
<li>一片Arduino（Genuino或兼容）单片机；<br>（本项目使用Mega 2560，但兼容UNO）</li>
<li>一块<strong>带有I2C通信功能</strong>的LCD 2004屏幕；</li>
<li>一个基于MAX7219的8位数码管显示模块；</li>
<li>2或3个按钮，每个按钮配备一只1N4148二极管、一个100nF瓷片电容；</li>
<li>一只面包板，及若干导线。</li>
</ul>
</li>
</ul>
<ul>
<li>额外配件<ul>
<li>2只全彩LED灯（附带适当的电阻）；</li>
<li>一个<strong>无源</strong>蜂鸣器（附带100μF圆盘电容）；</li>
<li>单片机内置EEPROM的前16个字节。</li>
</ul>
</li>
</ul>
<ul>
<li>将来可能添加的配件<ul>
<li>一块PCD8544（Nokia 5110）屏幕，Beta 7将使用；</li>
<li>一个DS3231时钟模块，可能不会使用。</li>
</ul>
</li>
</ul>
<ul>
<li>需要的库<ul>
<li><a href="http://wayoda.github.io/LedControl/">LedControl</a> (作者：Eberhard Fahle)</li>
<li><a href="https://github.com/marcoschwartz/LiquidCrystal_I2C">LiquidCrystal_I2C</a> (作者：Marco Schwartz)</li>
<li><a href="https://www.arduino.cc/en/Reference/EEPROM">EEPROM</a> (内置库，在Beta 6使用)</li>
</ul>
</li>
</ul>
<hr>
<h2 id="计时规则与默认设置"><a href="#计时规则与默认设置" class="headerlink" title="计时规则与默认设置"></a>计时规则与默认设置</h2><p>本系统设置11个比赛环节与1个附加环节（不计时），环节之数目、名称仅可通过源程序更改；但每个环节的（先行）发言一方与时间限制（附加环节除外）可在“设置”功能中更改并保存。<br>系统支持断电后保存设置，以及手动恢复默认设置。<strong>以下列出各环节之名称、（先）发言方与时间限制的默认设置：</strong></p>
<blockquote>
<ol>
<li>一辩开场陈述（1st Statement） - 正方 150秒</li>
<li>一辩开场陈述（1st Statement） - 反方 150秒</li>
<li>攻辩：二辩提问（2nd Attack Defense） - 正方 90秒</li>
<li>攻辩：二辩提问（2nd Attack Defense） - 反方 90秒</li>
<li>攻辩：三辩提问（3rd Attack Defense） - 正方 90秒</li>
<li>攻辩：三辩提问（3rd Attack Defense） - 反方 90秒</li>
<li>一辩小结（1st Conclusion） - 正方 90秒</li>
<li>一辩小结（1st Conclusion） - 反方 90秒</li>
<li>自由辩论（Free Debate） - 反方 240秒</li>
<li>四辩总结（Final Conclusion） - 反方 180秒</li>
<li>四辩总结（Final Conclusion） - 正方 180秒</li>
<li>观众提问（Audience Q&amp;A）- 附加环节（可进入“设置”）<br>正方：POSITIVE ； 反方：NEGATIVE</li>
</ol>
</blockquote>
<p>其中，“攻辩”与“自由辩论”要求双方发言，此处指出先发言一方；其他环节仅要求一方发言。“攻辩”环节的时间限制为整个环节（提问方）的用时，被提问一方每次回答的时间限制为固定的20秒；在其回答时，双方的计时器同步计时；当不回答时，其计时器被关闭。“自由辩论”中，双方各获得设置中规定的时间；仅对正在发言的一方计时。<br><strong>本系统默认正方在左侧、反方在右侧。</strong> 如相反，请在源代码的顶部找到：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> POS 1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NEG 0</span></span><br></pre></td></tr></table></figure>
<p>将其改为：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> POS 0</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NEG 1</span></span><br></pre></td></tr></table></figure>
<hr>
<h2 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h2><p>1. 将所需硬件模块与Arduino（兼容）单片机连接。以下为预定的针脚分配：</p>
<ul>
<li>右侧的全彩LED灯（反方用），绿灯接入引脚3，红灯接入引脚4；</li>
<li>左侧的全彩LED灯（正方用），绿灯接入引脚9，红灯接入引脚8；</li>
<li>MAX7219数码管显示模块使用引脚5~7，其中5对应DIN、6对应LOAD（CS）、7对应CLK；</li>
<li>蜂鸣器使用引脚11。如果缺少接地的100μF圆盘电容，则不建议使用；</li>
<li>三个按钮分别使用引脚A0、A1、A2（左侧为A0），一端接地；</li>
<li>将3个二极管的输出端分别接到3个按钮的另一端，输入端共用引脚A3；</li>
<li>3个100nF瓷片电容接在按钮两端；</li>
<li>将<strong>带有I2C通信模块</strong>的LCD 2004屏幕的SDA、SCL引脚与单片机相连。</li>
</ul>
<p>2. 将单片机的USB接口与计算机接通，以Arduino IDE上传源程序，稍等片刻，直到LCD 2004屏幕显示“1st Statement”。</p>
<p>3. <strong>按钮功能（图标显示在LCD屏幕的下方）：</strong></p>
<ul>
<li><strong>“向左”与“向右”箭头</strong>：向前/向后切换；更改设定值</li>
<li><strong>“暂停”（双竖线）</strong>：暂停当前进行的计时</li>
<li><strong>“播放”（向右的三角形）</strong>：开始当前环节的计时</li>
<li><strong>“扳手”</strong>：进入“设置”；确认当前设定值或项目</li>
<li><strong>“两个箭头”</strong>：切换当前发言的一方</li>
</ul>
<p>4. 调整设置之步骤：</p>
<ul>
<li>①进入第12个环节（Audience Q&amp;A），按下“扳手”；</li>
<li>②选择需要调整的环节，再按下“扳手”；</li>
<li>③调整该环节的（先）发言一方，按“扳手”确认；</li>
<li>④调整该环节的时间限制，按“扳手”确认；</li>
<li>⑤选择“Save and Exit!”页面，按下“扳手”，则设置将会保存。</li>
<li>【另外有“Reset settings”选项，确认后系统恢复到默认设置】</li>
</ul>
<p>5. 做一名合格的计时员吧！<br><img src="http://ww1.sinaimg.cn/large/62fb934ajw1f24anqstlxj21kw0w01f6.jpg" alt="Beta 6"></p>
<hr>
<h2 id="搬运时要注意的事项"><a href="#搬运时要注意的事项" class="headerlink" title="搬运时要注意的事项"></a>搬运时要注意的事项</h2><h3 id="如果你用了一块Uno板子……"><a href="#如果你用了一块Uno板子……" class="headerlink" title="如果你用了一块Uno板子……"></a>如果你用了一块Uno板子……</h3><p>——若完全按照本说明书规定的硬件要求搭建（Beta 6），则最终剩余4个通用I/O引脚。如条件有限，而使得引脚不够用，可参考以下建议：</p>
<ol>
<li>若LCD 2004屏幕未带有I2C通信模块，去买一个……</li>
<li>不使用左侧的按钮，去除后系统仍可正常操作。</li>
<li>修改<code>loop()</code>过程的代码，以避免使用检测3个按钮是否有至少一个按下的信号量<code>ANY_BUTTON_PRESSED</code>。</li>
<li>换用Mega 2560板子……</li>
</ol>
<h3 id="如果你没有LCD-2004屏幕（比如，只有1602屏幕）……"><a href="#如果你没有LCD-2004屏幕（比如，只有1602屏幕）……" class="headerlink" title="如果你没有LCD 2004屏幕（比如，只有1602屏幕）……"></a>如果你没有LCD 2004屏幕（比如，只有1602屏幕）……</h3><p>——尚无针对其他屏幕开发特定程序的计划（PCD8544屏幕除外）。QwQ</p>
<h3 id="如果你没有二极管或者瓷片电容……"><a href="#如果你没有二极管或者瓷片电容……" class="headerlink" title="如果你没有二极管或者瓷片电容……"></a>如果你没有二极管或者瓷片电容……</h3><p>——二极管的使用是为更方便地检测3个按钮是否有至少一个按下。同样要修改<code>loop()</code>过程的代码，避免使用信号量<code>ANY_BUTTON_PRESSED</code>。<br>而电容的作用则是提高检测按钮是否按下的可靠性。移除之，按钮仍可正常使用，但可能会出现抖动问题（按一次响应多次）。<br>因此，强烈建议准备好这些元件。</p>
<hr>
<h2 id="更新历史"><a href="#更新历史" class="headerlink" title="更新历史"></a>更新历史</h2><h3 id="Beta-6-（2016年5月18日）"><a href="#Beta-6-（2016年5月18日）" class="headerlink" title="Beta 6 （2016年5月18日）"></a>Beta 6 （2016年5月18日）</h3><ul>
<li>支持调整各个环节的时间限制与（先）发言方；</li>
<li>断电后保存设置；</li>
<li>加入在“攻辩”环节中对被提问一方的20秒时间限制。</li>
</ul>
<p>详情请见“<a href="https://github.com/iDemkors/DebateTimer-Arduino/blob/master/Changelog.md">更新日志</a>”（英文）。</p>
<h2 id="许可"><a href="#许可" class="headerlink" title="许可"></a>许可</h2><p><a href="https://github.com/iDemkors/DebateTimer-Arduino/blob/master/LICENSE.md">MIT</a></p>

  </div>

  
  <nav class="pagination">
    
      <a post-prev href="/2016/07/23/AvoidBaidu/" title="处心积虑避开B度……">&#10094; 处心积虑避开B度……</a>
    

    
      <a post-next href="/2016/06/03/CurriculumDesign/" title="第3回课程设计过程及感想">第3回课程设计过程及感想 &#10095;</a>
    
  </nav>
  
</article>


</section>
</section>

  <section site-body class="dn">
  
    <nav>
    <a href="/tags/Arduino/" style="font-size: 10px; color: #777">Arduino</a> <a href="/tags/Bochs/" style="font-size: 10px; color: #777">Bochs</a> <a href="/tags/Fedora/" style="font-size: 10px; color: #777">Fedora</a> <a href="/tags/Linux/" style="font-size: 10px; color: #777">Linux</a> <a href="/tags/Minecraft/" style="font-size: 10px; color: #777">Minecraft</a> <a href="/tags/Yandex/" style="font-size: 10px; color: #777">Yandex</a> <a href="/tags/test/" style="font-size: 10px; color: #777">test</a> <a href="/tags/心得/" style="font-size: 20px; color: #111">心得</a> <a href="/tags/折腾/" style="font-size: 10px; color: #777">折腾</a> <a href="/tags/计时器/" style="font-size: 10px; color: #777">计时器</a> <a href="/tags/课程设计/" style="font-size: 10px; color: #777">课程设计</a> <a href="/tags/辩论赛/" style="font-size: 10px; color: #777">辩论赛</a> <a href="/tags/闲谈/" style="font-size: 10px; color: #777">闲谈</a>
    </nav>
  
</section>

<footer site-footer>
  <div copyright>
    &copy; 2017 iDemkors

      
        <h4>简单得不能再简单了</h4>
      

  </div>
  
  <div powered>
      <b>Hexo <a href="https://github.com/shenqihui/hexo-theme-pithy" target="_blank">Pithy</a></b> Theme designed by <b><a href="http://blog.shenqh.com/" target="_blank">shenqihui</a></b>, Powered by <b><a href="http://hexo.io/" target="_blank">Hexo</a></b> and <b><a href="https://pages.github.com/">Github Pages</a></b>. <b><a href="/sitemap.xml">Sitemap</a></b>.
        
          <b><a href="/atom.xml">Rss</a></b>.
      
  </div>


    
</footer>

  
  

  


</body>
</html>